{% extends 'base.html' %} {% block title %}Search Books{% endblock %} {% block
content %}
<h1>Search Books</h1>
<form method="POST">
  {{ form.hidden_tag() }}
  <div>
    {{ form.query.label }} {{ form.query() }} {% if form.query.errors %}
    <ul class="errors">
      {% for error in form.query.errors %}
      <li>{{ error }}</li>
      {% endfor %}
    </ul>
    {% endif %}
  </div>
  <div>
    {{ form.language.label }} {{ form.language() }} {% if form.language.errors
    %}
    <ul class="errors">
      {% for error in form.language.errors %}
      <li>{{ error }}</li>
      {% endfor %}
    </ul>
    {% endif %}
  </div>
  <div>
    {{ form.publication_year.label }} {{ form.publication_year() }} {% if
    form.publication_year.errors %}
    <ul class="errors">
      {% for error in form.publication_year.errors %}
      <li>{{ error }}</li>
      {% endfor %}
    </ul>
    {% endif %}
  </div>
  <p>{{ form.submit() }}</p>
</form>

{% if books %}
<h2>Search Results</h2>
<ul>
  {% for book in books %}
  <li>
    {{ book.Title }} by {{ book.Author }} ({{ book.PublicationYear }}) {% if
    book.pdf_path %} -
    <a href="{{ url_for('static', filename=book.pdf_path) }}" target="_blank"
      >View PDF</a
    >
    {% endif %}
  </li>
  {% endfor %}
</ul>
{% endif %} {% endblock %}
